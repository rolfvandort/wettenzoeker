<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roelies MEGA-zoeker - Nederlandse Overheidsdocumenten</title>
    <meta name="description" content="Zoek in Nederlandse overheidsdocumenten, wetgeving, bekendmakingen en meer met Roelies geavanceerde zoekfunctie.">
    <link rel="stylesheet" href="style-dashboard.css">
</head>
<body>
    <!-- Header Section -->
    <header class="page-header" id="page-header">
        <div class="header-content">
            <div>
                <h1>Roelies MEGA-zoeker</h1>
                <p>Zoek in Nederlandse overheidsdocumenten, wetgeving en bekendmakingen</p>
            </div>
            <div class="header-stats" id="header-stats">
                <span class="stat-item">
                    <span class="stat-number" id="total-collections">6</span>
                    <span class="stat-label">Collecties</span>
                </span>
                <span class="stat-item">
                    <span class="stat-number" id="total-documents">2.5M+</span>
                    <span class="stat-label">Documenten</span>
                </span>
            </div>
        </div>
    </header>

    <!-- Enhanced Search Section -->
    <section class="search-section" id="search-section">
        <div class="search-container">
            <!-- Main Search Form -->
            <form id="search-form" class="search-form">
                <div class="search-input-wrapper">
                    <input 
                        type="text" 
                        id="search-input" 
                        placeholder="Zoek in overheidsdocumenten... (bijv. 'wet algemene bepalingen')"
                        aria-label="Zoekterm invoeren"
                        maxlength="300"
                        autocomplete="off"
                    >
                    <div class="input-counter" id="input-counter" style="display: none;">
                        <span id="char-count">300</span> tekens resterend
                    </div>
                    <!-- Real-time suggestions -->
                    <div id="suggestions-container" class="suggestions-container">
                        <ul id="suggestions-list" class="suggestions-list"></ul>
                    </div>
                    <!-- Real-time results preview -->
                    <div id="results-preview" class="results-preview" style="display: none;">
                        <span id="preview-count">0</span> resultaten gevonden
                    </div>
                </div>
                <button type="submit" id="search-button" class="btn btn-primary">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"/>
                        <path d="m21 21-4.35-4.35"/>
                    </svg>
                    Zoeken
                </button>
            </form>

            <!-- Progressive Filter Tabs -->
            <div class="filter-tabs" id="filter-tabs">
                <!-- Tab 1: Collectie (always visible after first search) -->
                <div class="filter-tab" id="collection-tab" style="display: none;">
                    <div class="tab-header" data-tab="collection">
                        <span class="tab-title">
                            <span class="tab-icon">üìö</span>
                            Collectie
                        </span>
                        <div class="tab-tooltip">
                            <span class="tooltip-trigger">‚ÑπÔ∏è</span>
                            <div class="tooltip-content">
                                <strong>Offici√´le Publicaties:</strong> Staatsblad, Staatscourant, wetten<br>
                                <strong>Staten-Generaal:</strong> Kamerstukken, debatten<br>
                                <strong>Tuchtrecht:</strong> Uitspraken tuchtcolleges
                            </div>
                        </div>
                    </div>
                    <div class="tab-content">
                        <select id="collection-select" class="form-control">
                            <option value="">Alle collecties</option>
                        </select>
                    </div>
                </div>

                <!-- Tab 2: Documenttype (visible after collection selected) -->
                <div class="filter-tab" id="documenttype-tab" style="display: none;">
                    <div class="tab-header" data-tab="documenttype">
                        <span class="tab-title">
                            <span class="tab-icon">üìã</span>
                            Documenttype
                        </span>
                    </div>
                    <div class="tab-content">
                        <select id="document-type-select" class="form-control">
                            <option value="">Alle documenttypen</option>
                        </select>
                    </div>
                </div>

                <!-- Tab 3: Organisatie (visible after documenttype selected) -->
                <div class="filter-tab" id="organization-tab" style="display: none;">
                    <div class="tab-header" data-tab="organization">
                        <span class="tab-title">
                            <span class="tab-icon">üè¢</span>
                            Organisatie
                        </span>
                    </div>
                    <div class="tab-content">
                        <select id="organization-select" class="form-control">
                            <option value="">Alle organisaties</option>
                        </select>
                    </div>
                </div>

                <!-- Tab 4: Advanced Options -->
                <div class="filter-tab" id="advanced-tab" style="display: none;">
                    <div class="tab-header" data-tab="advanced">
                        <span class="tab-title">
                            <span class="tab-icon">‚öôÔ∏è</span>
                            Geavanceerd
                        </span>
                    </div>
                    <div class="tab-content">
                        <div class="advanced-grid">
                            <!-- Enhanced Date Filters -->
                            <div class="form-group">
                                <label for="date-type-select">Datumtype:</label>
                                <select id="date-type-select" class="form-control">
                                    <option value="any">Alle datums</option>
                                    <option value="created">Aangemaakt op</option>
                                    <option value="issued">Uitgegeven op</option>
                                    <option value="available">Gepubliceerd op</option>
                                    <option value="modified">Gewijzigd op</option>
                                </select>
                            </div>
                            
                            <div class="date-range">
                                <div class="form-group">
                                    <label for="start-date">Van datum:</label>
                                    <input type="date" id="start-date" class="form-control">
                                </div>
                                <div class="form-group">
                                    <label for="end-date">Tot datum:</label>
                                    <input type="date" id="end-date" class="form-control">
                                </div>
                            </div>

                            <!-- Postcode/Location Filter -->
                            <div class="form-group">
                                <label for="location-filter">Locatie/Postcode:</label>
                                <input type="text" id="location-filter" class="form-control" placeholder="bijv. 1012AB of Amsterdam">
                            </div>

                            <!-- Sort Options -->
                            <div class="form-group">
                                <label for="sort-select">Sorteren op:</label>
                                <select id="sort-select" class="form-control">
                                    <option value="relevance">Relevantie</option>
                                    <option value="date">Datum (nieuwste eerst)</option>
                                    <option value="title">Titel (A-Z)</option>
                                    <option value="modified">Laatst gewijzigd</option>
                                </select>
                            </div>
                        </div>
                        
                        <button type="button" id="clear-filters" class="btn btn-secondary">
                            Filters wissen
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content Area -->
    <div class="main-content" id="main-content">
        <!-- Results Section -->
        <main class="results-section" id="results-section">
            <!-- Active Filter Chips -->
            <div id="filter-chips-container" class="filter-chips-container" style="display: none;">
                <div class="filter-chips-label">Actieve filters:</div>
                <div id="filter-chips-list" class="filter-chips-list"></div>
            </div>

            <!-- Search Summary -->
            <div id="search-summary" class="search-summary" style="display: none;">
                <h2 id="search-summary-title">Zoekresultaten</h2>
                <p id="search-summary-text"></p>
                <div class="search-meta">
                    <span id="filters-applied" class="filters-applied" style="display: none;"></span>
                    <span id="search-time" class="search-time"></span>
                </div>
            </div>

            <!-- Results Info Bar -->
            <div id="results-info" class="results-info" style="display: none;">
                <div class="results-count-info">
                    <span id="results-count" class="results-count"></span>
                    <span id="results-range" class="results-range"></span>
                </div>
                <div class="results-controls">
                    <div class="results-per-page">
                        <label for="per-page-select">Per pagina:</label>
                        <select id="per-page-select" class="form-control">
                            <option value="10">10</option>
                            <option value="20" selected>20</option>
                            <option value="50">50</option>
                        </select>
                    </div>
                    <button id="export-btn" class="btn btn-primary">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                            <polyline points="7,10 12,15 17,10"/>
                            <line x1="12" y1="15" x2="12" y2="3"/>
                        </svg>
                        Exporteren
                    </button>
                </div>
            </div>

            <!-- Loading State -->
            <div id="loader" class="loading-skeleton" style="display: none;">
                <div class="skeleton-card">
                    <div class="skeleton-line skeleton-title"></div>
                    <div class="skeleton-line skeleton-meta"></div>
                    <div class="skeleton-line"></div>
                    <div class="skeleton-line skeleton-short"></div>
                </div>
                <div class="skeleton-card">
                    <div class="skeleton-line skeleton-title"></div>
                    <div class="skeleton-line skeleton-meta"></div>
                    <div class="skeleton-line"></div>
                </div>
            </div>

            <!-- Results List -->
            <div id="results-list" class="results-list"></div>

            <!-- No Results -->
            <div id="no-results" class="no-results" style="display: none;">
                <div class="no-results-content">
                    <div class="no-results-icon">
                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                            <circle cx="11" cy="11" r="8"/>
                            <path d="m21 21-4.35-4.35"/>
                        </svg>
                    </div>
                    <h3>Geen resultaten gevonden</h3>
                    <p id="no-results-message">Probeer een andere zoekterm of pas uw filters aan.</p>
                    
                    <!-- Smart Suggestions Panel -->
                    <div id="smart-suggestions" class="smart-suggestions" style="display: none;">
                        <h4>üí° Suggesties:</h4>
                        <div id="suggestions-list"></div>
                    </div>

                    <div class="no-results-suggestions">
                        <h4>Tips voor betere zoekresultaten:</h4>
                        <ul>
                            <li>Controleer of er geen typfouten in uw zoekopdracht staan</li>
                            <li>Probeer minder specifieke zoektermen</li>
                            <li>Gebruik synoniemen of gerelateerde termen</li>
                            <li>Verwijder enkele filters om meer resultaten te krijgen</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Pagination -->
            <div id="pagination-container" class="pagination-container" style="display: none;">
                <button id="prev-page-btn" class="pagination-btn" disabled>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="15,18 9,12 15,6"/>
                    </svg>
                    Vorige
                </button>
                
                <div class="pagination-info">
                    <div id="page-info" class="page-info"></div>
                    <div class="page-jump">
                        <label for="page-input">Ga naar pagina:</label>
                        <input type="number" id="page-input" class="page-input" min="1">
                        <button id="page-jump-btn" class="btn btn-secondary btn-sm">Ga</button>
                    </div>
                </div>
                
                <button id="next-page-btn" class="pagination-btn" disabled>
                    Volgende
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="9,18 15,12 9,6"/>
                    </svg>
                </button>
            </div>
        </main>

        <!-- Enhanced Facets Sidebar -->
        <aside class="filter-sidebar" id="filter-sidebar">
            <!-- Search History -->
            <div id="search-history" class="search-history" style="display: none;">
                <h3 class="history-title">Recente zoekopdrachten</h3>
                <ul id="history-list" class="history-list"></ul>
                <button id="clear-history-btn" class="clear-history-btn">Geschiedenis wissen</button>
            </div>

            <!-- Dynamic Facets -->
            <div class="facets-container" id="facets-container">
                <h3 class="facets-title">Verfijn uw zoekresultaten</h3>
                <div id="facets-list"></div>
            </div>
        </aside>
    </div>

    <!-- Error Messages -->
    <div id="error-container" class="error-container hidden">
        <div class="error-message">
            <div class="error-icon">‚ö†Ô∏è</div>
            <div class="error-content">
                <h3 id="error-title">Er is een fout opgetreden</h3>
                <p id="error-text"></p>
                <button id="error-retry" class="error-retry">Opnieuw proberen</button>
            </div>
            <button id="error-close" class="error-close">&times;</button>
        </div>
    </div>

    <!-- Export Modal -->
    <div id="export-modal" class="export-modal" style="display: none;">
        <div class="modal-overlay" id="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Exporteer zoekresultaten</h3>
                <button id="modal-close" class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p>Selecteer het gewenste exportformaat:</p>
                <div class="export-options">
                    <button class="export-btn" data-format="csv">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14,2 14,8 20,8"/>
                            <line x1="16" y1="13" x2="8" y2="13"/>
                            <line x1="16" y1="17" x2="8" y2="17"/>
                            <polyline points="10,9 9,9 8,9"/>
                        </svg>
                        <div>
                            <strong>CSV bestand</strong>
                            <span class="format-desc">Geschikt voor Excel en andere spreadsheet programma's</span>
                        </div>
                    </button>
                    <button class="export-btn" data-format="json">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14,2 14,8 20,8"/>
                        </svg>
                        <div>
                            <strong>JSON bestand</strong>
                            <span class="format-desc">Geschikt voor technische verwerking</span>
                        </div>
                    </button>
                </div>
                <div class="export-info">
                    <p><strong>Let op:</strong> Er worden alleen de huidige zoekresultaten ge√´xporteerd (max. 1000 records per export).</p>
                </div>
            </div>
        </div>
    </div>

    <script src="app-roelies.js"></script>
</body>
</html>
