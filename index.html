<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Overheid.nl Zoeker - Doorzoek Officiële Overheidspublicaties</title>
    
    <!-- Meta Information -->
    <meta name="description" content="Doorzoek alle officiële overheidspublicaties, wetten, besluiten en kamerstukken van Nederland. Snel, betrouwbaar en volledig.">
    <meta name="keywords" content="overheid, wetten, besluiten, kamerstukken, nederland, zoeken, officieel">
    <meta name="author" content="Overheid.nl Zoeker">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Overheid.nl Zoeker",
        "description": "Doorzoek alle officiële overheidspublicaties van Nederland",
        "url": "https://jouw-website.netlify.app",
        "applicationCategory": "GovernmentApplication",
        "operatingSystem": "Any",
        "browserRequirements": "Moderne webbrowser vereist"
    }
    </script>
</head>
<body>
    <!-- Skip to content for accessibility -->
    <a href="#main-content" class="sr-only">Ga naar hoofdinhoud</a>
    
    <!-- Clean Dashboard-Style Header -->
    <header class="page-header" role="banner">
        <div class="header-content">
            <div>
                <h1>Overheid.nl Zoeker</h1>
                <p>Officiële overheidspublicaties doorzoeken</p>
            </div>
            <div class="header-user">
                <!-- Optional user info section for dashboard feel -->
            </div>
        </div>
    </header>

    <!-- Compact Search Section -->
    <section class="search-section" aria-label="Zoekopdracht">
        <div class="search-container">
            <form id="search-form" class="search-form" role="search">
                <div class="search-input-wrapper">
                    <input 
                        type="search" 
                        id="search-input" 
                        name="search"
                        placeholder="Zoek in wetten, besluiten, kamerstukken..."
                        autocomplete="off"
                        aria-label="Zoekterm invoeren"
                        aria-describedby="search-help"
                        required>
                    
                    <!-- Search Suggestions -->
                    <div id="suggestions-container" class="suggestions-container" aria-label="Zoeksuggesties"></div>
                </div>
                
                <button type="submit" id="search-button" class="search-button" aria-label="Zoeken starten">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                        <path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                    </svg>
                    Zoeken
                </button>
            </form>

            <div id="search-help" class="sr-only">
                Typ uw zoekterm en druk op Enter of klik op de zoekknop. Gebruik aanhalingstekens voor exacte zinnen.
            </div>

            <!-- Minimal Advanced Search Options -->
            <div class="advanced-search">
                <button type="button" id="advanced-toggle" aria-expanded="false" aria-controls="advanced-options">
                    Uitgebreide opties
                </button>

                <div id="advanced-options" class="hidden" role="region" aria-labelledby="advanced-toggle">
                    <div class="advanced-grid">
                        <div class="form-group">
                            <label for="collection-select">Collectie</label>
                            <select id="collection-select" name="collection" aria-describedby="collection-help">
                                <option value="all">Alle collecties</option>
                                <option value="officielepublicaties">Officiële Publicaties</option>
                                <option value="sgd">Staten-Generaal Digitaal</option>
                                <option value="tuchtrecht">Tuchtrecht</option>
                                <option value="samenwerkendecatalogi">Samenwerkende Catalogi</option>
                                <option value="vd">Verdragenbank</option>
                                <option value="plooi">PLOOI</option>
                            </select>
                            <small id="collection-help" class="sr-only">Selecteer een specifieke collectie om in te zoeken</small>
                        </div>

                        <div class="form-group">
                            <label for="document-type-select">Documenttype</label>
                            <select id="document-type-select" name="documentType">
                                <option value="all">Alle types</option>
                                <option value="Wet">Wetten</option>
                                <option value="Besluit">Besluiten</option>
                                <option value="Regeling">Regelingen</option>
                                <option value="Kamerstuk">Kamerstukken</option>
                                <option value="Handelingen">Handelingen</option>
                                <option value="Bijlage">Bijlagen</option>
                                <option value="Brief">Brieven</option>
                                <option value="Circulaire">Circulaires</option>
                                <option value="Bekendmaking">Bekendmakingen</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="organization-select">Organisatie</label>
                            <select id="organization-select" name="organization">
                                <option value="all">Alle organisaties</option>
                                <option value="Tweede Kamer der Staten-Generaal">Tweede Kamer</option>
                                <option value="Eerste Kamer der Staten-Generaal">Eerste Kamer</option>
                                <option value="Ministerie van Justitie en Veiligheid">Min. JenV</option>
                                <option value="Ministerie van Binnenlandse Zaken en Koninkrijksrelaties">Min. BZK</option>
                                <option value="Ministerie van Financiën">Min. Financiën</option>
                                <option value="Ministerie van Infrastructuur en Waterstaat">Min. I&W</option>
                                <option value="Ministerie van Volksgezondheid, Welzijn en Sport">Min. VWS</option>
                                <option value="Ministerie van Onderwijs, Cultuur en Wetenschap">Min. OCW</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="sort-select">Sorteren op</label>
                            <select id="sort-select" name="sortBy">
                                <option value="relevance">Relevantie</option>
                                <option value="date">Datum (nieuw → oud)</option>
                                <option value="title">Titel (A → Z)</option>
                                <option value="modified">Laatst gewijzigd</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Datumbereik</label>
                            <div class="date-range">
                                <div>
                                    <label for="start-date" class="sr-only">Vanaf datum</label>
                                    <input type="date" id="start-date" name="startDate" aria-label="Vanaf datum">
                                </div>
                                <div>
                                    <label for="end-date" class="sr-only">Tot datum</label>
                                    <input type="date" id="end-date" name="endDate" aria-label="Tot datum">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="advanced-actions">
                        <button type="button" id="clear-filters" class="clear-filters-btn">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                                <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                            </svg>
                            Filters wissen
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content Area - Dashboard Layout -->
    <main id="main-content" class="main-content" role="main">
        <!-- Results Section (Left/Main Column) -->
        <section class="results-section" aria-live="polite" aria-label="Zoekresultaten">
            <!-- Filter Chips -->
            <div id="filter-chips" class="filter-chips"></div>

            <!-- Search Summary -->
            <div id="search-summary" class="search-summary hidden"></div>

            <!-- Results Info -->
            <div id="results-info" class="results-info hidden"></div>

            <!-- Loading State -->
            <div id="loader" class="loader hidden" aria-label="Aan het laden">
                <div class="loading-skeleton"></div>
            </div>

            <!-- Search Results -->
            <div id="results-list" class="results-list" role="list"></div>

            <!-- No Results -->
            <div id="no-results" class="no-results hidden">
                <div class="no-results-content">
                    <div class="no-results-icon" aria-hidden="true">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                            <path d="M12 10.5h-5v-1h5v1z"/>
                        </svg>
                    </div>
                    <h3>Geen resultaten gevonden</h3>
                    <p>
                        Probeer een andere zoekterm of pas uw filters aan.<br>
                        Controleer of er geen typfouten in uw zoekopdracht staan.
                    </p>
                    <div class="no-results-suggestions">
                        <h4>Suggesties:</h4>
                        <ul>
                            <li>Gebruik minder specifieke termen</li>
                            <li>Verwijder enkele filters</li>
                            <li>Controleer de spelling</li>
                            <li>Probeer synoniemen of gerelateerde termen</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Pagination -->
            <div id="pagination-container" class="pagination-container hidden" role="navigation" aria-label="Paginering"></div>
        </section>

        <!-- Filter Sidebar (Right Column) - Dashboard Style -->
        <aside class="filter-sidebar" id="filter-sidebar" role="complementary" aria-label="Filters en zoekgeschiedenis">
            <!-- Search History -->
            <div id="search-history" class="search-history"></div>
            
            <!-- Facets will be dynamically inserted here -->
        </aside>
    </main>

    <!-- Simple Footer -->
    <footer class="page-footer" role="contentinfo" style="background: white; border-top: 1px solid var(--gray-200); padding: var(--space-6) 0; margin-top: var(--space-12); text-align: center;">
        <div class="container">
            <div style="color: var(--gray-600); font-size: var(--font-size-sm);">
                <p style="margin: 0;">
                    <strong>Overheid.nl Zoeker</strong> - Doorzoek officiële overheidspublicaties
                </p>
                <p style="margin: var(--space-2) 0 0 0;">
                    Gebaseerd op de <a href="https://www.overheid.nl" target="_blank" rel="noopener" style="color: var(--primary-blue);">Overheid.nl</a> API. 
                    Niet-officiële tool voor onderzoek en informatiedoeleinden.
                </p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="app.js" defer></script>

    <!-- Performance monitoring -->
    <script>
        window.addEventListener('load', function() {
            if ('performance' in window && 'getEntriesByType' in performance) {
                setTimeout(function() {
                    const navigation = performance.getEntriesByType('navigation')[0];
                    const loadTime = Math.round(navigation.loadEventEnd - navigation.fetchStart);
                    console.log(`Page load time: ${loadTime}ms`);
                    
                    if (typeof gtag === 'function') {
                        gtag('event', 'timing_complete', {
                            name: 'load',
                            value: loadTime
                        });
                    }
                }, 0);
            }
        });

        window.addEventListener('error', function(e) {
            console.error('JavaScript error:', e.error);
        });

        window.addEventListener('unhandledrejection', function(e) {
            console.error('Unhandled promise rejection:', e.reason);
        });
    </script>

    <!-- Service Worker registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js')
                    .then(function(registration) {
                        console.log('Service Worker registered');
                    })
                    .catch(function(error) {
                        console.log('Service Worker registration failed');
                    });
            });
        }
    </script>

    <!-- Accessibility enhancements -->
    <script>
        function announceToScreenReader(message) {
            const announcement = document.createElement('div');
            announcement.setAttribute('aria-live', 'polite');
            announcement.setAttribute('aria-atomic', 'true');
            announcement.classList.add('sr-only');
            announcement.textContent = message;
            document.body.appendChild(announcement);
            
            setTimeout(() => {
                document.body.removeChild(announcement);
            }, 1000);
        }

        document.addEventListener('DOMContentLoaded', function() {
            const skipLink = document.querySelector('a[href="#main-content"]');
            if (skipLink) {
                skipLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    const target = document.getElementById('main-content');
                    if (target) {
                        target.setAttribute('tabindex', '-1');
                        target.focus();
                        target.addEventListener('blur', function() {
                            target.removeAttribute('tabindex');
                        }, { once: true });
                    }
                });
            }
        });

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                const openSuggestions = document.querySelector('.suggestions-container.visible');
                if (openSuggestions) {
                    openSuggestions.classList.remove('visible');
                }
                
                const openAdvanced = document.querySelector('#advanced-options:not(.hidden)');
                if (openAdvanced) {
                    openAdvanced.classList.add('hidden');
                    document.getElementById('advanced-toggle').focus();
                }
            }
        });
    </script>

    <!-- Schema.org structured data for search results -->
    <script type="application/ld+json" id="search-results-schema">
    {
        "@context": "https://schema.org",
        "@type": "SearchResultsPage",
        "name": "Overheid.nl Zoekresultaten",
        "description": "Zoekresultaten voor officiële overheidspublicaties"
    }
    </script>
</body>
</html>
